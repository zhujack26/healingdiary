<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>카카오 로그인 중간 페이지</title>
    <script>
      function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)");
        var results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return "";
        return decodeURIComponent(results[2].replace(/\+/g, " "));
      }

      function redirectToApp() {
        const code = getParameterByName("code");
        if (code) {
          window.location.href = `healingdiary://auth?code=${code}`;
        } else {
          console.error("Code not found in URL");
        }
      }
    </script>
  </head>
  <body onload="redirectToApp()">
    <h1>카카오 로그인 중간 페이지</h1>
  </body>
</html>
